<!DOCTYPE HTML PUBLIC>
<html>

<head>
    <title>Time</title>
    <meta http-equiv=Content-Type content="text/html; charset=windows-1250">
    <meta content="MSHTML 6.00.2800.1141" name=GENERATOR>
</head>
<style>

</style>

<body>
    <script>
        const bodyEl = document.querySelector('body')

        const colorsArr = [
            [95, 0, 255, 0],
            [85, 76, 159, 38],
            [70, 221, 238, 7],
            [50, 212, 149, 32],
            [0, 255, 0, 0]
        ]

        let rStart = 0;
        let gStart = 0;
        let bStart = 0;

        let rEnd, gEnd, bEnd;

        let r = rStart;
        let g = gStart;
        let b = bStart;

        bodyEl.style.backgroundColor = `rgb(${r}, ${g}, ${b})`;

        const changeColor = percentage => {

            if (percentage > colorsArr[0][0]) {
                rEnd = colorsArr[0][1];
                gEnd = colorsArr[0][2];
                bEnd = colorsArr[0][3];
            } else if (percentage > colorsArr[1][0]) {
                rEnd = colorsArr[1][1];
                gEnd = colorsArr[1][2];
                bEnd = colorsArr[1][3];
            } else if (percentage > colorsArr[2][0]) {
                rEnd = colorsArr[2][1];
                gEnd = colorsArr[2][2];
                bEnd = colorsArr[2][3];
            } else if (percentage > colorsArr[3][0]) {
                rEnd = colorsArr[3][1];
                gEnd = colorsArr[3][2];
                bEnd = colorsArr[3][3];
            } else if (percentage > colorsArr[4][0]) {
                rEnd = colorsArr[4][1];
                gEnd = colorsArr[4][2];
                bEnd = colorsArr[4][3];
            }

            let rDiff = Number(parseFloat((rEnd - r) / 100).toFixed(2));
            let gDiff = Number(parseFloat((gEnd - g) / 100).toFixed(2));
            let bDiff = Number(parseFloat((bEnd - b) / 100).toFixed(2));

            step = 0;

            console.log('r,g,b');
            console.log(r, g, b);
            console.log('rEnd,gEnd,bEnd');
            console.log(rEnd, gEnd, bEnd);
            console.log('rDiff,gDiff,bDiff');
            console.log(rDiff, gDiff, bDiff);

            let change = setInterval(_ => {

                if (step < 100) {

                    bodyEl.style.backgroundColor = `rgb(${r}, ${g}, ${b})`;
                    r = Number(parseFloat(r + rDiff).toFixed(2));
                    g = Number(parseFloat(g + gDiff).toFixed(2));
                    b = Number(parseFloat(b + bDiff).toFixed(2));
                    step++;
                    
                } else {
                    clearInterval(change);
                }

            }, 10);

        }

        setInterval(_ => {
            let x = Math.round(Math.random() * 100);
            console.log(x)
            changeColor(x)}, 1000)

    </script>


</body>

</html>